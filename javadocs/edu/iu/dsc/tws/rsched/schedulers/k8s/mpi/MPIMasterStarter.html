<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MPIMasterStarter</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MPIMasterStarter";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIWorkerStarter.html" title="class in edu.iu.dsc.tws.rsched.schedulers.k8s.mpi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html" target="_top">Frames</a></li>
<li><a href="MPIMasterStarter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.iu.dsc.tws.rsched.schedulers.k8s.mpi</div>
<h2 title="Class MPIMasterStarter" class="title">Class MPIMasterStarter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.iu.dsc.tws.rsched.schedulers.k8s.mpi.MPIMasterStarter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">MPIMasterStarter</span>
extends java.lang.Object</pre>
<div class="block">This class is started in the first pod in a StatefulSet
 This class will get the PodIP addresses from all pods in a job
 When getting the IP addresses, it also waits for all pods to become running
 It saves those IP addresses to hostfile
 It checks whether password free ssh is enabled between this pod and
 all other pods in the statefulset
 It then executes mpirun command to start OpenMPI workers</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#commandAsAString-java.lang.String:A-">commandAsAString</a></span>(java.lang.String[]&nbsp;commandArray)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#createHostFile-java.util.ArrayList-">createHostFile</a></span>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;ipList)</code>
<div class="block">create hostfile for mpirun command
 first line in the file is the ip of this pod
 other lines are unordered
 each line has one ip</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#createJobMasterIPCommandLineArgument-java.lang.String-">createJobMasterIPCommandLineArgument</a></span>(java.lang.String&nbsp;value)</code>
<div class="block">we send the jobMaster IP as a command line parameter to workers
 we send it in the form of: "jobMasterIP=ip"</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#executeMpirun-java.lang.String:A-">executeMpirun</a></span>(java.lang.String[]&nbsp;command)</code>
<div class="block">send mpirun command to shell</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#generateCheckSshCommand-java.util.ArrayList-">generateCheckSshCommand</a></span>(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;podIPs)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#generateMPIrunCommand-java.lang.String-int-java.lang.String-java.lang.String-java.lang.String-">generateMPIrunCommand</a></span>(java.lang.String&nbsp;className,
                     int&nbsp;workersPerPod,
                     java.lang.String&nbsp;jobMasterIP,
                     java.lang.String&nbsp;logPropsFile,
                     java.lang.String&nbsp;jvmMemory)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#getJobMasterIPCommandLineArgumentValue-java.lang.String-">getJobMasterIPCommandLineArgumentValue</a></span>(java.lang.String&nbsp;commandLineArgument)</code>
<div class="block">retrieve job master ip from the command line parameter</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html#runScript-java.lang.String:A-">runScript</a></span>(java.lang.String[]&nbsp;command)</code>
<div class="block">send check ssh script run command to shell</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
</li>
</ul>
<a name="createHostFile-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createHostFile</h4>
<pre>public static&nbsp;boolean&nbsp;createHostFile(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;ipList)</pre>
<div class="block">create hostfile for mpirun command
 first line in the file is the ip of this pod
 other lines are unordered
 each line has one ip</div>
</li>
</ul>
<a name="generateMPIrunCommand-java.lang.String-int-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateMPIrunCommand</h4>
<pre>public static&nbsp;java.lang.String[]&nbsp;generateMPIrunCommand(java.lang.String&nbsp;className,
                                                       int&nbsp;workersPerPod,
                                                       java.lang.String&nbsp;jobMasterIP,
                                                       java.lang.String&nbsp;logPropsFile,
                                                       java.lang.String&nbsp;jvmMemory)</pre>
</li>
</ul>
<a name="executeMpirun-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeMpirun</h4>
<pre>public static&nbsp;boolean&nbsp;executeMpirun(java.lang.String[]&nbsp;command)</pre>
<div class="block">send mpirun command to shell</div>
</li>
</ul>
<a name="commandAsAString-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commandAsAString</h4>
<pre>public static&nbsp;java.lang.String&nbsp;commandAsAString(java.lang.String[]&nbsp;commandArray)</pre>
</li>
</ul>
<a name="createJobMasterIPCommandLineArgument-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createJobMasterIPCommandLineArgument</h4>
<pre>public static&nbsp;java.lang.String&nbsp;createJobMasterIPCommandLineArgument(java.lang.String&nbsp;value)</pre>
<div class="block">we send the jobMaster IP as a command line parameter to workers
 we send it in the form of: "jobMasterIP=ip"</div>
</li>
</ul>
<a name="getJobMasterIPCommandLineArgumentValue-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJobMasterIPCommandLineArgumentValue</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getJobMasterIPCommandLineArgumentValue(java.lang.String&nbsp;commandLineArgument)</pre>
<div class="block">retrieve job master ip from the command line parameter</div>
</li>
</ul>
<a name="generateCheckSshCommand-java.util.ArrayList-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateCheckSshCommand</h4>
<pre>public static&nbsp;java.lang.String[]&nbsp;generateCheckSshCommand(java.util.ArrayList&lt;java.lang.String&gt;&nbsp;podIPs)</pre>
</li>
</ul>
<a name="runScript-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>runScript</h4>
<pre>public static&nbsp;boolean&nbsp;runScript(java.lang.String[]&nbsp;command)</pre>
<div class="block">send check ssh script run command to shell</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../../../../edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIWorkerStarter.html" title="class in edu.iu.dsc.tws.rsched.schedulers.k8s.mpi"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../../index.html?edu/iu/dsc/tws/rsched/schedulers/k8s/mpi/MPIMasterStarter.html" target="_top">Frames</a></li>
<li><a href="MPIMasterStarter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
